#Ch4 Software Architecture Descriptions
##一、体系结构模型的描述
###1.建模的内容
* 组件
* 连接件
* 接口
* 配置
* Rationale（？）
###2.建模的方法
####Box-Line
将Component做成box，将Connector做成line

* 描述太模糊  
如接口，无法被描述
* 缺乏不一致性检查  
原因是它与数学无关
* 无法跟踪到设计与编码阶段
* 体系结构的体系不完备

*尽管如此，日常工作中仍然常用此方法*

---
####形式化语言
* 优点
	* 每个层次都能表示出来
	* 机器与人（？）都可读
	* 可以根据形式化语言对架构做分析
* 缺点
	* 形式化语言难度较大
	* 学院常用，但企业界用得不多  
	* 个别领域开始使用特定的形式化语言

常用的形式化语言，Wright、ACME……  
所有语言都围绕对组件、连接件、配置的描述展开

---
####UML
* 目前来说是最实用的体系结构语言
* UML并不十分适合体系结构，需要自行加工，因此会导致产生一些不同的效果
##二、体系结构的主流建模思想——"4+1" View Model
###1.IEEE的多视角模型指导思想
* 一个描述有多个视角，每个视角反映不同群体的关注点
* 按每个视角来单独开发View和Model
> 插图与名词解释见ppt18页
###2.Philippe Kruchten与4+1模型
* 逻辑视图
	* 系统被分解为一系列的关键抽象（即后来的部件、连接件），来自与问题域，以对象集的方式来体现
	* 此视图用于功能分布  
	即需求向各个模块的分配  
	*不仅仅是功能的分配，其它的质量等等也会有所关注*
	* 提供给终端用户，用于确认哪些需求被分配，哪些需求被遗漏
	> * 部件类型用以构造型`<<component>>`扩展了的类来描述  
	> 可以拥有端口
	> * 连接件类型用以构造型`<<connector>>`扩展了的类来描述  
	> 用类的端口来描述角色
	> * 用构造型`<<property>>`扩展属性来描述特征  
	> `<<component>>`与`<<connector>>`中分别有`<<property>>`属性可供描述
	> * 用对象图描述配置
	> * 为部件类型建立行为状态图描述的详细功能规格
	> * 为连接件类型建立行为状态图描述交互机制
	> * 为端口/角色建立协议状态机描述部件端口和连接件角色的交互协议
	> * 为配置和复合类型建立顺序图描述它们所包含的功能规格
* 开发视图
	* 系统分成一些模块或子系统，通过导入和导出的方式联系起来
	* 此视图用于软件模块的组织  
	提供给程序员和产品经理  
	用来判断人员水平是否与模块中内容匹配
	> * 以构件图描述软件体系结构实现模块的组织
	> * 以构造型`<<subsystem>>`实现子系统的组织和分层组织
* 进程视图
	* 进程的分解
	* 此视图用于考虑非功能性需求  
		* 可以查找性能、吞吐量、可扩展性的瓶颈所在
	> * 用主动类来描述进程  
	> 有关联就可能存在通信
	> * 利用顺序图详细地描述进程之间的通信机制
	> * 给出逻辑视图/开发视图与进程视图的映射表
* 物理视图
	* 物理视图与开发视图是必不可少的
	* 此视图用于考察资源  
		* 硬件资源相关的非功能需求与物理视图都有关
	> * 以部署图实现物理视图
	> 	* 体现进程的部署
	> 	* 体现开发构件的部署
* **+1：Scenarios** 
	* 起到粘合剂的作用，令四个视图互相关联
	* 用于表现视图的合理性，帮助进行设计和验证
* 视图间的映射
	* 逻辑->开发  
		* 模块与物理包之间的映射关系，逻辑组件与物理文件之间的过渡 
		* 注意包的设计原则
		* 最终的目的是将系统组织成物理包
	* 逻辑->进程
		* Inside-out：最大并发
			* 假设所有功能都是并发的
			* 逐步减少不需要、不需要的
		* Outside-in：最小并发
	* 开发/进程->物理
		* 部署图即可
* 体系结构的迭代过程

这四个视图基本就能完成绝大多数体系结构设计  
*但未必全部需要*  
有时会破坏4+1，增加一些别的视图，如数据视图、安全视图等
##三、UML描述示例
> 见ppt

