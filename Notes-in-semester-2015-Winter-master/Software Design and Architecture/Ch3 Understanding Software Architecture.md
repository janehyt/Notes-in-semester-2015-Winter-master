#Ch3 Understanding Software Architecture
##一、体系结构产生的动机
###1.建筑结构的类比
* 软件的体系结构应该关心职责的分配
* 软件的体系结构也有风格
* 软件的体系结构也要有多种视角
* 风格与工程之间有着紧密的关系
* 风格与材料也有关
###2.详细设计的缺点
（略）
###3.体系结构的产生
* Perry and Wolf  
Software Architecture=elements+form+rotionale  
Elements=process+data+connection  
Form=property（整体特征）+relationship（具体交互细节）
* M. Shaw  
Software Arcihitecture=component+connector+configuration  
Component包含接口、类型和有规则的、整体的对外交互，内部的代码实现隐藏  
Connector类似
* 完善后  
体系结构设计不再有导入/导出、调用等细节
##二、理解软件体系结构：高层结构
###1.Component  
所有需求的承载单位  
*承担质量的（如负载均衡）不认为是部件*

* 封装了整个系统的过程和数据
* 承载了所有需求
* 定义了限制外界访问的接口（包括类型、属性和端口）  
一个端口就是一套规则，以不同的规则为不同的部件服务
	> ######例：简单的C/S模式  
	> 见ppt
* Component的实现
	* 实现时，物理上规模可大可小，实现的功能可多可少
	* 部件可以相互组合，大的组件可以包含更小的组件
###2.Connector  
连接件将部件联系起来，不承担需求  
纯逻辑的，语言无关

* 唯一目的：让不同的组件交互，使不同的部件相互独立  
以往所有交互散布在程序中，连接件将它们集中起来
* 交互信息本地化
* Connector本身可能非常复杂  
这在以往是做不到的
* 以往散布的信息能够集中地找一个位置存放
* 所有部分都可以是独立的
	> ######例：CSP的规则表达式
	> 见ppt

* Connector的实现
	* 隐式实现  
	逻辑上存在，但物理上找不到，因为它散布在程序中  
	程序调用、管道、SQL语句等
	* 显式实现  
	适配器、委托、中介等设计模式  
	Controller就可以看作是连接件的小型化实现
	* 连接件也可以互相组合
###3.配置
* 可以就看作是一个部署图，负责将Port和Role绑定起来
##三、理解软件体系结构：关注点
* 大型软件开发中，质量是关键因素，而体系结构是处理质量的主要手段  
因此质量属性是软件体系结构最重要的关注点
###1.系统的质量
####可靠性
* 用工作时间占工作时间与修复时间之和的比例衡量  
提高的手段：
	* 设计容错手段，增加工作时间
	* 设计低出错系统，增加工作时间
	* 使整个组件易修改，减少修复时间
	* 使交互易于发现错误，减少修复时间

都需要在体系结构上做出处理
####可修改性
* 修改本地化
* 防止连锁反应
* 延迟绑定
####性能
* 体系结构与非体系结构各占一半
* 体系结构方面
	* 部件间的通信  
	一次？多次？
	* 资源分配
	* 功能的部署
* 非体系结构方面
	* 算法等等
####安全性
* 容忍攻击
	* 安全验证
	* 授权
	* ……
* 检测攻击
	* 监控网络访问
* 从攻击中恢复
####可测试性
* 输入/输出
* 内部监控
####易用性
* "Undo" pattern
* Feedback pattern
###2.项目环境
####开发环境
技能、成本、时间、资源等
####商业环境
期望的利益（风险与利益的关系）、项目持续时间、市场、推出策略
####技术环境
平台、硬件设备、开发工具、技术模型与标准
###3.业务目标
###4.总结
体系结构关心**质量**，关心**约束**
> #####例：*体系结构*与*风格*的比较  
> 见ppt
##四、理解软件体系结构：决策
体系结构就是**最重要的设计决策的集合**
###为什么体系结构的设计决策是最重要的？
* 设计决策是散布、交织的
* 每个决策都有广泛的影响
##五、理解软件体系结构：架构师
###1.架构师的工作
* 各方面的工作都需要参与
* 与技术相关的工作都与架构师有关
* 还要部分地参与需求
###2.架构师的角色
* 不是设计师
* 不是PM
* 不是测试工程师
* 不是程序员

*对一个人来说太困难，因此常以架构团队出现*

> ######常见误解 
> * 架构不是整体设计
> * 体系结构不仅仅体现在纸面上  
> 需要有原型等动态行为
> * 体系结构与通常的design不是一回事，架构师只做重要决策
> * 体系结构与基础支持技术不是一回事  
> 体系结构是与具体的软件相关的，包含其功能与非功能
###3.易混淆的名词
（略）